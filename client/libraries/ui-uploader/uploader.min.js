/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.4.1 - 2017-04-20T06:14:06.100Z
 * License: MIT
 */
!function(){"use strict";function o(o){function n(o){for(var n=0;n<o.length;n++)r.files.push(o[n])}function e(){return r.files}function i(o){r.options=o;for(var n=o.headers||{},e=o.options||{},i=0;i<r.files.length&&r.activeUploads!=r.options.concurrency;i++)r.files[i].active||l(r.files[i],r.options.url,r.options.data,r.options.paramName,n,e)}function t(o){r.files.splice(r.files.indexOf(o),1)}function s(){r.files.splice(0,r.files.length)}function a(o){var n=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],e=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,e)).toFixed(e?1:0)+" "+n[isNaN(o)?0:e+1]}function l(o,n,e,t,s,l){var p,u,d;if(e=e||{},t=t||"file",r.activeUploads+=1,o.active=!0,p=new window.XMLHttpRequest,l.withCredentials===!0&&(p.withCredentials=!0),u=new window.FormData,p.open("POST",n),s)for(var c in s)s.hasOwnProperty(c)&&p.setRequestHeader(c,s[c]);if(p.upload.onloadstart=function(){},p.upload.onprogress=function(n){n.lengthComputable&&(o.loaded=n.loaded,o.humanSize=a(n.loaded),angular.isFunction(r.options.onProgress)&&r.options.onProgress(o))},p.upload.onload=function(){angular.isFunction(r.options.onUploadSuccess)&&r.options.onUploadSuccess(o)},p.upload.onerror=function(o){angular.isFunction(r.options.onError)&&r.options.onError(o)},p.onload=function(){r.activeUploads-=1,r.uploadedFiles+=1,i(r.options),angular.isFunction(r.options.onCompleted)&&r.options.onCompleted(o,p.responseText,p.status),0===r.activeUploads&&(r.uploadedFiles=0,angular.isFunction(r.options.onCompletedAll)&&r.options.onCompletedAll(r.files))},e)for(d in e)e.hasOwnProperty(d)&&u.append(d,e[d]);return u.append(t,o,o.name),p.send(u),p}var r=this;return r.files=[],r.options={},r.activeUploads=0,r.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:n,getFiles:e,files:r.files,startUpload:i,removeFile:t,removeAll:s}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();