String.prototype.format=function(){for(var r=this,t=0;t<arguments.length;t++)if(void 0!=arguments[t]){var e=new RegExp("({)"+t+"(})","g");r=r.replace(e,arguments[t])}return r},Array.prototype.remove=function(r){for(var t=0;t<this.length;t++)r(this[t])&&this.splice(t,1)};
angular.module("utilities",[]).directive("captcha",["guid",function(x){return{restrict:"A",link:function(t,n,r){var c=function(){n.attr("src",t.$eval(r.captcha)+"?r="+x.create8())};c(),n.on("click",function(){c()})}}}]).factory("security",function(){return{sha256:function(x){return sha256(x)}}}).factory("guid",function(){var x=function(x){return x.replace(/[x]/g,function(x){var t=16*Math.random()|0;return("x"==x?t:3&t|8).toString(16)})};return{create8:function(){return x("xxxxxxxx")},create32:function(){return x("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}});
angular.module("config",[]).constant("URL",{CAPTCHA:"/api/captcha.jpg",REGISTER:"/api/register",LOGIN:"/api/login",FIND:"/api/find",RESET:"/api/reset",DB_SEARCH:"/api/db/list",DB_DELETE:"/api/db/delete",DB_INITIAL:"/api/db/initial",DB_SEARCH_REDIS:"/api/db/list_redis",DB_DELETE_REDIS:"/api/db/delete_redis",DB_SEARCH_MYSQL:"/api/db/list_mysql",DB_DELETE_MYSQL:"/api/db/delete_mysql",LOGFILE_SEARCH:"/api/log/getFiles",LOGFILE_VIEW:"/api/log/view",LOGFILE_DELETE:"/api/log/delete"});
angular.module("common.popup",[]).component("window",{templateUrl:"common/components/popup/windowTemplate.html",bindings:{resolve:"<",close:"&",dismiss:"&"},controllerAs:"vm",controller:["$scope",function(e){var n=this;e.$on("$includeContentError",function(e,o){n.contentError="content load error"}),n.$onInit=function(){n.title=n.resolve.title,n.body=n.resolve.body,n.bodyTemplateUrl=n.resolve.bodyTemplateUrl,n.successText=n.resolve.successText,n.cancelText=n.resolve.cancelText,n.fnSuccess=n.resolve.fnSuccess,n.fnCancel=n.resolve.fnCancel,e.data=n.resolve.data,e.callback=[]},n.success=function(o){var t=!0;e.callback.success&&(t=e.callback.success()),t.finally?(n.successPromise=t,n.successPromise.finally(function(){void 0===t.$$state.value&&(t.$$state.value=!0),n.fnSuccess(t.$$state.value)&&n.close()})):n.fnSuccess(t)&&n.close()},n.cancel=function(){var o=!0;e.callback.cancel&&(o=e.callback.cancel()),n.fnCancel(o),n.dismiss()}}]}).constant("title","ChatRoom System").factory("popup",["$uibModal","$timeout","title",function(e,n,o){var t=!1;return{isPopup:function(){return t},alert:function(o){var c=e.open({animation:!0,templateUrl:"common/components/popup/alertTemplate.html",backdrop:!1,keyboard:!1,windowTemplateUrl:"common/components/popup/window.html",windowTopClass:"alert-window-top",windowClass:"alert-window",controller:"ModalInstanceController",controllerAs:"vm",resolve:{data:function(){return o}}});n(function(){c.close(),t=!1},2e3),t=!0},window:function(n){if((n=n||{}).body&&n.bodyTemplateUrl)throw new Error("at most one of body and bodyTemplateUrl can be defined");e.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",component:"window",backdrop:"static",keyboard:!1,size:n.body?"sm":"",resolve:{title:function(){return n.title||o},body:function(){return n.body},bodyTemplateUrl:function(){return n.bodyTemplateUrl},successText:function(){return n.successText||"OK"},cancelText:function(){return n.cancelText||"Cancel"},fnSuccess:function(){return function(e){return n.fnSuccess?n.fnSuccess(e):e}},fnCancel:function(){return function(e){return n.fnCancel?n.fnCancel(e):e}},data:function(){return n.scope}}}).result.then(function(e){t=!1},function(e){t=!1}),t=!0}}}]).controller("ModalInstanceController",["$uibModalInstance","data",function(e,n){this.message=n}]);